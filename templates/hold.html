/* Add to existing CSS */
.challenge-box {
    background: rgba(0, 137, 123, 0.05);
    border-radius: 8px;
    padding: 20px;
    border: 1px solid rgba(0, 137, 123, 0.2);
    margin: 20px 0;
}

.challenge-box h4 {
    color: var(--accent);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.solution-toggle {
    margin-top: 15px;
}

.solution-content {
    display: none;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px dashed var(--accent);
}

.solution-content.show {
    display: block;
}

.solution-btn {
    width: 100%;
    justify-content: center;
}

.application-card {
    background: rgba(13, 71, 161, 0.03);
    border-radius: 8px;
    padding: 20px;
    border-left: 3px solid var(--primary);
    margin: 20px 0;
}

.application-card h4 {
    color: var(--primary);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.warning-box {
    padding: 15px;
    border-left: 4px solid #FF9800;
    background: rgba(255, 152, 0, 0.05);
    margin: 15px 0;
    border-radius: 0 4px 4px 0;
}


<div class="lesson-section">
    <h2 class="section-title">Ternary Operator</h2>
    <div class="section-content">
        <p>The ternary operator provides a shorthand way to write simple if-else statements in a single line.</p>
        
        <div class="code-block">
            <pre><span class="code-comment">// Syntax</span>
variable = (condition) ? expressionTrue : expressionFalse;</pre>
        </div>
        
        <p><strong>Example:</strong></p>
        
        <div class="code-block">
            <pre><span class="code-keyword">int</span> <span class="code-variable">time</span> = <span class="code-number">15</span>;
<span class="code-keyword">string</span> <span class="code-variable">result</span> = (<span class="code-variable">time</span> < <span class="code-number">18</span>) ? <span class="code-string">"Good day."</span> : <span class="code-string">"Good evening."</span>;
<span class="code-function">cout</span> << <span class="code-variable">result</span>;</pre>
        </div>
        
        <div class="note-box">
            <div class="note-title">
                <i class="fas fa-lightbulb"></i>
                <span>When to Use</span>
            </div>
            <p>Use ternary operators for simple conditional assignments, but prefer traditional if-else statements for complex logic to maintain readability.</p>
        </div>
    </div>
</div>

<div class="lesson-section">
    <h2 class="section-title">Nested Conditionals</h2>
    <div class="section-content">
        <p>You can place if statements inside other if statements to create complex decision structures.</p>
        
        <div class="code-block">
            <pre><span class="code-keyword">int</span> <span class="code-variable">age</span> = <span class="code-number">25</span>;
<span class="code-keyword">bool</span> <span class="code-variable">isStudent</span> = <span class="code-keyword">true</span>;

<span class="code-keyword">if</span> (<span class="code-variable">age</span> >= <span class="code-number">18</span>) {
    <span class="code-keyword">if</span> (<span class="code-variable">isStudent</span>) {
        <span class="code-function">cout</span> << <span class="code-string">"Adult student discount applies"</span>;
    } <span class="code-keyword">else</span> {
        <span class="code-function">cout</span> << <span class="code-string">"Standard adult pricing"</span>;
    }
} <span class="code-keyword">else</span> {
    <span class="code-function">cout</span> << <span class="code-string">"Child pricing"</span>;
}</pre>
        </div>
        
        <div class="warning-box">
            <div class="note-title">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Avoid Deep Nesting</span>
            </div>
            <p>Deeply nested conditionals can become difficult to read. If you find yourself nesting more than 3 levels deep, consider refactoring your code using functions or logical operators.</p>
        </div>
    </div>
</div>

<div class="lesson-section">
    <h2 class="section-title">Logical Operators in Conditionals</h2>
    <div class="section-content">
        <p>Combine multiple conditions using logical operators:</p>
        
        <div class="modifiers-grid">
            <div class="modifier-card">
                <h4>AND (&&)</h4>
                <p>True only if both conditions are true</p>
                <div class="code-block">
                    <pre><span class="code-keyword">if</span> (temperature > 0 && temperature < 100) {
    <span class="code-function">cout</span> << <span class="code-string">"Water is liquid"</span>;
}</pre>
                </div>
            </div>
            
            <div class="modifier-card">
                <h4>OR (||)</h4>
                <p>True if at least one condition is true</p>
                <div class="code-block">
                    <pre><span class="code-keyword">if</span> (day == "Saturday" || day == "Sunday") {
    <span class="code-function">cout</span> << <span class="code-string">"Weekend!"</span>;
}</pre>
                </div>
            </div>
            
            <div class="modifier-card">
                <h4>NOT (!)</h4>
                <p>Reverses the boolean result</p>
                <div class="code-block">
                    <pre><span class="code-keyword">if</span> (!isRaining) {
    <span class="code-function">cout</span> << <span class="code-string">"Enjoy outdoor activities"</span>;
}</pre>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="lesson-section">
    <h2 class="section-title">Common Mistakes</h2>
    <div class="section-content">
        <div class="example-box error">
            <h4><i class="fas fa-bug"></i> Mistake: Using assignment (=) instead of equality (==)</h4>
            <div class="code-block">
                <pre><span class="code-comment">// Wrong - This assigns 5 to x, always true</span>
<span class="code-keyword">if</span> (x = <span class="code-number">5</span>) { 
    <span class="code-comment">// This will always execute</span>
}

<span class="code-comment">// Correct</span>
<span class="code-keyword">if</span> (x == <span class="code-number">5</span>) {
    <span class="code-comment">// Only executes if x equals 5</span>
}</pre>
            </div>
        </div>
        
        <div class="example-box">
            <h4><i class="fas fa-check-circle"></i> Best Practice: Always use curly braces</h4>
            <div class="code-block">
                <pre><span class="code-comment">// Avoid this - prone to errors</span>
<span class="code-keyword">if</span> (x > 10)
    <span class="code-function">cout</span> << <span class="code-string">"x is large"</span>;
    <span class="code-function">cout</span> << <span class="code-string">"This always executes!"</span>; <span class="code-comment">// Not part of the if block!</span>

<span class="code-comment">// Preferred</span>
<span class="code-keyword">if</span> (x > 10) {
    <span class="code-function">cout</span> << <span class="code-string">"x is large"</span>;
    <span class="code-function">cout</span> << <span class="code-string">"This only executes when condition is true"</span>;
}</pre>
            </div>
        </div>
    </div>
</div>

<div class="lesson-section">
    <h2 class="section-title">Interactive Challenge</h2>
    <div class="section-content">
        <div class="challenge-box">
            <h4><i class="fas fa-puzzle-piece"></i> Grade Calculator</h4>
            <p>Complete the code to determine the grade based on a score:</p>
            
            <div class="code-block">
                <pre><span class="code-keyword">int</span> <span class="code-variable">score</span> = <span class="code-number">87</span>;
<span class="code-keyword">string</span> <span class="code-variable">grade</span>;

<span class="code-comment">// Your code here</span>

<span class="code-function">cout</span> << <span class="code-string">"Your grade is: "</span> << <span class="code-variable">grade</span>;</pre>
            </div>
            
            <div class="solution-toggle">
                <button class="nav-btn outline solution-btn">
                    <i class="fas fa-lightbulb"></i> Show Solution
                </button>
                <div class="solution-content">
                    <div class="code-block">
                        <pre><span class="code-keyword">if</span> (score >= 90) {
    grade = <span class="code-string">"A"</span>;
} <span class="code-keyword">else if</span> (score >= 80) {
    grade = <span class="code-string">"B"</span>;
} <span class="code-keyword">else if</span> (score >= 70) {
    grade = <span class="code-string">"C"</span>;
} <span class="code-keyword">else if</span> (score >= 60) {
    grade = <span class="code-string">"D"</span>;
} <span class="code-keyword">else</span> {
    grade = <span class="code-string">"F"</span>;
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="lesson-section">
    <h2 class="section-title">Real-World Application</h2>
    <div class="section-content">
        <div class="application-card">
            <h4><i class="fas fa-shopping-cart"></i> E-commerce Discount System</h4>
            <p>Conditionals are used extensively in pricing systems:</p>
            
            <div class="code-block">
                <pre><span class="code-keyword">double</span> <span class="code-variable">price</span> = <span class="code-number">100.0</span>;
<span class="code-keyword">bool</span> <span class="code-variable">isMember</span> = <span class="code-keyword">true</span>;
<span class="code-keyword">bool</span> <span class="code-variable">isHoliday</span> = <span class="code-keyword">false</span>;

<span class="code-keyword">if</span> (isMember) {
    price *= <span class="code-number">0.9</span>; <span class="code-comment">// 10% member discount</span>
    
    <span class="code-keyword">if</span> (isHoliday) {
        price *= <span class="code-number">0.85</span>; <span class="code-comment">// Additional 15% holiday discount</span>
    }
} <span class="code-keyword">else if</span> (isHoliday) {
    price *= <span class="code-number">0.95</span>; <span class="code-comment">// 5% holiday discount for non-members</span>
}

<span class="code-function">cout</span> << <span class="code-string">"Final price: $"</span> << price;</pre>
            </div>
        </div>
    </div>
</div>




// Add to existing script
document.querySelectorAll('.solution-btn').forEach(button => {
    button.addEventListener('click', function() {
        const solutionContent = this.nextElementSibling;
        solutionContent.classList.toggle('show');
        
        if (solutionContent.classList.contains('show')) {
            this.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Solution';
        } else {
            this.innerHTML = '<i class="fas fa-lightbulb"></i> Show Solution';
        }
    });
});





<div class="lesson-content">
    <!-- Introduction Section -->
    <div class="lesson-section">
        <div class="section-content">
            <div class="intro-header">
                <h2><i class="fas fa-database"></i> Mastering C++ Data Types</h2>
                <p>Data types define the type and size of data that can be stored in variables. Choosing the right data type is crucial for efficient memory usage and preventing errors in your programs.</p>
            </div>
            
            <div class="analogy-box">
                <div class="analogy-icon">
                    <i class="fas fa-boxes"></i>
                </div>
                <div class="analogy-text">
                    <p><strong>Think of data types as different container sizes:</strong> Just like you wouldn't use a shipping container to store jewelry, you shouldn't use a 64-bit double to store a simple true/false value.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Type Spectrum -->
    <div class="lesson-section">
        <h2 class="section-title"><i class="fas fa-chart-bar"></i> Data Type Variety</h2>
        <div class="section-content">
            <p>C++ provides a range of fundamental data types. Choosing the right one is a balance between memory efficiency and value range:</p>
            
            <div class="data-type-spectrum">
                <div class="spectrum-item" data-type="bool">
                    <div class="type-icon">
                        <i class="fas fa-toggle-on"></i>
                    </div>
                    <div class="type-name"><b>bool</b></div>
                    <div class="type-size">1 byte</div>
                    <div class="type-range">true/false</div>
                    <div class="type-desc">Boolean values</div>
                </div>
                
                <div class="spectrum-item" data-type="char">
                    <div class="type-icon">
                        <i class="fas fa-font"></i>
                    </div>
                    <div class="type-name"><b>char</b></div>
                    <div class="type-size">1 byte</div>
                    <div class="type-range">-128 to 127</div>
                    <div class="type-desc">Single characters</div>
                </div>
                
                <div class="spectrum-item" data-type="short">
                    <div class="type-icon">
                        <i class="fas fa-hashtag"></i>
                    </div>
                    <div class="type-name"><b>short</b></div>
                    <div class="type-size">2 bytes</div>
                    <div class="type-range">-32,768 to 32,767</div>
                    <div class="type-desc">Small integers</div>
                </div>
                
                <div class="spectrum-item" data-type="int">
                    <div class="type-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="type-name"><b>int</b></div>
                    <div class="type-size">4 bytes</div>
                    <div class="type-range">-2B to 2B</div>
                    <div class="type-desc">Standard integers</div>
                </div>
                
                <div class="spectrum-item" data-type="double">
                    <div class="type-icon">
                        <i class="fas fa-divide"></i>
                    </div>
                    <div class="type-name"><b>double</b></div>
                    <div class="type-size">8 bytes</div>
                    <div class="type-range">±4.9e-324 to ±1.8e308</div>
                    <div class="type-desc">Precision decimals</div>
                </div>
            </div>
            
            <div class="memory-visualization">
                <h3><i class="fas fa-memory"></i> Memory Allocation</h3>
                <div class="memory-bars">
                    <div class="memory-bar" data-type="bool">bool (1 Byte)</div>
                    <div class="memory-bar" data-type="char">char (1 Byte)</div>
                    <div class="memory-bar" data-type="short">short (2 Byte)</div>
                    <div class="memory-bar" data-type="int">int (4 Byte)</div>
                    <div class="memory-bar" data-type="double">double (8 Byte)</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Interactive Data Type Game -->
    <div class="lesson-section">
        <h2 class="section-title"><i class="fas fa-gamepad"></i> Data Type Selection Challenge</h2>
        <div class="section-content">
            <div class="game-instructions">
                <p><i class="fas fa-lightbulb"></i> <strong>How to play:</strong> For each scenario, select the most appropriate data type. Consider both memory efficiency and value range.</p>
            </div>
            
            <div class="selection-game">
                <div class="game-header">
                    <div class="score-board">
                        Score: <span id="game-score">0</span>/<span id="game-total">0</span>
                    </div>
                    <div class="scenario-counter">
                        Scenario <span id="scenario-number">1</span>/5
                    </div>
                </div>
                
                <div class="scenario">
                    <p id="data-prompt">The number of planets in our solar system (8)</p>
                </div>
                
                <div class="options">
                    <button class="type-option" data-type="bool">bool</button>
                    <button class="type-option" data-type="char">char</button>
                    <button class="type-option" data-type="short">short</button>
                    <button class="type-option" data-type="int">int</button>
                    <button class="type-option" data-type="double">double</button>
                </div>
                
                <div class="feedback">
                    <p id="type-feedback">Select the most efficient data type!</p>
                </div>
                
                <div class="scenario-controls">
                    <button id="next-scenario" disabled>Next Challenge →</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Common Pitfalls Section -->
    <div class="lesson-section">
        <h2 class="section-title"><i class="fas fa-exclamation-triangle"></i> Common Data Type Pitfalls</h2>
        <div class="section-content">
            <p>Understanding these common mistakes will save you hours of debugging:</p>
            
            <div class="pitfall-examples">
                <div class="pitfall">
                    <div class="pitfall-header">
                        <i class="fas fa-divide"></i>
                        <h3>Integer Division</h3>
                    </div>
                    <div class="code-block">
                        <pre><span class="code-keyword">int</span> <span class="code-variable">a</span> = <span class="code-number">5</span>;
<span class="code-keyword">int</span> <span class="code-variable">b</span> = <span class="code-number">2</span>;
<span class="code-keyword">double</span> <span class="code-variable">result</span> = <span class="code-variable">a</span> / <span class="code-variable">b</span>;  <span class="code-comment">// result = 2.0, not 2.5!</span></pre>
                    </div>
                    <div class="solution">
                        <p><strong>Fix:</strong> Cast one operand to double: <code>(double)a / b</code></p>
                    </div>
                </div>
                
                <div class="pitfall">
                    <div class="pitfall-header">
                        <i class="fas fa-arrow-up"></i>
                        <h3>Overflow</h3>
                    </div>
                    <div class="code-block">
                        <pre><span class="code-keyword">char</span> <span class="code-variable">small</span> = <span class="code-number">127</span>;
<span class="code-variable">small</span>++;  <span class="code-comment">// Becomes -128 (overflow!)</span></pre>
                    </div>
                    <div class="solution">
                        <p><strong>Fix:</strong> Use larger types when values might exceed limits</p>
                    </div>
                </div>
                
                <div class="pitfall">
                    <div class="pitfall-header">
                        <i class="fas fa-compress-alt"></i>
                        <h3>Truncation</h3>
                    </div>
                    <div class="code-block">
                        <pre><span class="code-keyword">double</span> <span class="code-variable">price</span> = <span class="code-number">19.99</span>;
<span class="code-keyword">int</span> <span class="code-variable">intPrice</span> = <span class="code-variable">price</span>;  <span class="code-comment">// intPrice = 19 (decimal lost)</span></pre>
                    </div>
                    <div class="solution">
                        <p><strong>Fix:</strong> Use appropriate types or round explicitly</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Interactive Quiz -->
    <div class="quiz-section">
        <div class="quiz-title">
            <i class="fas fa-trophy"></i>
            <h2>Test Your Data Type Knowledge</h2>
            
        </div>
        
        <div class="quiz-question">
            1. Which data type would be most appropriate for storing a person's age?
        </div>
        
        <div class="quiz-options">
            <div class="quiz-option" data-correct="false">double</div>
            <div class="quiz-option" data-correct="true">int</div>
            <div class="quiz-option" data-correct="false">bool</div>
            <div class="quiz-option" data-correct="false">char</div>
        </div>
        
        <div class="quiz-question">
            2. What happens when you store 3.14159 in an int variable?
        </div>
        
        <div class="quiz-options">
            <div class="quiz-option" data-correct="false">It gets rounded to 3.0</div>
            <div class="quiz-option" data-correct="false">It causes a compiler error</div>
            <div class="quiz-option" data-correct="true">The decimal part is truncated</div>
            <div class="quiz-option" data-correct="false">The value is converted to scientific notation</div>
        </div>
        
        <div class="quiz-question">
            3. Which data type has the smallest memory footprint?
        </div>
        
        <div class="quiz-options">
            <div class="quiz-option" data-correct="true">bool</div>
            <div class="quiz-option" data-correct="false">char</div>
            <div class="quiz-option" data-correct="false">short</div>
            <div class="quiz-option" data-correct="false">int</div>
        </div>
        
        <div class="quiz-question">
            4. What is the range of a char data type?
        </div>
        
        <div class="quiz-options">
            <div class="quiz-option" data-correct="false">0 to 255</div>
            <div class="quiz-option" data-correct="true">-128 to 127</div>
            <div class="quiz-option" data-correct="false">0 to 65,535</div>
            <div class="quiz-option" data-correct="false">-32,768 to 32,767</div>
        </div>
        
        <div class="quiz-question">
            5. How many bytes does a double typically occupy?
        </div>
        
        <div class="quiz-options">
            <div class="quiz-option" data-correct="false">4 bytes</div>
            <div class="quiz-option" data-correct="true">8 bytes</div>
            <div class="quiz-option" data-correct="false">2 bytes</div>
            <div class="quiz-option" data-correct="false">1 byte</div>
        </div>
        
        <button class="quiz-button">Submit Answers</button>
        <div class="quiz-feedback" id="quiz-feedback"></div>
    </div>
    
</div>

<script>
// Data Type Game
document.addEventListener('DOMContentLoaded', function() {
    // Game scenarios
    const scenarios = [
        {
            prompt: "The number of planets in our solar system (8)",
            correct: "char",
            explanation: "char (1 byte) is sufficient as planet count is small"
        },
        {
            prompt: "Whether a user is logged in (true/false)",
            correct: "bool",
            explanation: "bool is perfect for true/false values"
        },
        {
            prompt: "The population of Zambia (approx 19 million)",
            correct: "int",
            explanation: "int (4 bytes) can handle this range (19,000,000)"
        },
        {
            prompt: "The value of PI (3.14159)",
            correct: "double",
            explanation: "double provides precision for decimal values"
        },
        {
            prompt: "A student's grade (A, B, C, D, F)",
            correct: "char",
            explanation: "char can store single characters like 'A' or 'B'"
        }
    ];
    
    // Game state
    let currentScenario = 0;
    let score = 0;
    let gameCompleted = false;
    
    // DOM Elements
    const dataPrompt = document.getElementById('data-prompt');
    const typeFeedback = document.getElementById('type-feedback');
    const nextButton = document.getElementById('next-scenario');
    const typeOptions = document.querySelectorAll('.type-option');
    const gameScore = document.getElementById('game-score');
    const gameTotal = document.getElementById('game-total');
    const scenarioNumber = document.getElementById('scenario-number');
    
    // Initialize game
    gameTotal.textContent = scenarios.length;
    scenarioNumber.textContent = currentScenario + 1;
    loadScenario(currentScenario);
    
    // Load a scenario
    function loadScenario(index) {
        const scenario = scenarios[index];
        dataPrompt.textContent = scenario.prompt;
        typeFeedback.textContent = "Select the most efficient data type!";
        typeFeedback.className = '';
        
        // Reset options
        typeOptions.forEach(option => {
            option.classList.remove('correct', 'incorrect', 'selected');
            option.disabled = false;
        });
        
        // Disable next button
        nextButton.disabled = true;
    }
    
    // Handle option selection
    typeOptions.forEach(option => {
        option.addEventListener('click', function() {
            if (gameCompleted) return;
            
            const selectedType = this.dataset.type;
            const correctType = scenarios[currentScenario].correct;
            
            // Disable all buttons
            typeOptions.forEach(opt => opt.disabled = true);
            
            // Mark selected option
            this.classList.add('selected');
            
            // Check if correct
            if (selectedType === correctType) {
                this.classList.add('correct');
                typeFeedback.textContent = "✓ Correct! " + scenarios[currentScenario].explanation;
                typeFeedback.className = 'correct-feedback';
                score++;
                gameScore.textContent = score;
            } else {
                this.classList.add('incorrect');
                typeFeedback.textContent = "✗ Incorrect. The best type is " + correctType + 
                                         ". " + scenarios[currentScenario].explanation;
                typeFeedback.className = 'incorrect-feedback';
                
                // Highlight correct answer
                document.querySelector(`.type-option[data-type="${correctType}"]`)
                    .classList.add('correct');
            }
            
            // Enable next button
            nextButton.disabled = false;
        });
    });
    
    // Next scenario button
    nextButton.addEventListener('click', function() {
        currentScenario++;
        
        if (currentScenario < scenarios.length) {
            scenarioNumber.textContent = currentScenario + 1;
            loadScenario(currentScenario);
        } else {
            // Game completed
            gameCompleted = true;
            const percentage = Math.round((score / scenarios.length) * 100);
            
            let message;
            if (percentage === 100) {
                message = "Perfect! You got all questions correct! 🎉";
            } else if (percentage >= 70) {
                message = `Great job! You scored ${score}/${scenarios.length}.`;
            } else {
                message = `You scored ${score}/${scenarios.length}. Keep practicing!`;
            }
            
            typeFeedback.innerHTML = `<strong>Game Complete!</strong><br>${message}`;
            typeFeedback.className = percentage >= 70 ? 'correct-feedback' : 'incorrect-feedback';
            nextButton.disabled = true;
        }
    });
    
    // Quiz functionality
    const quizOptions = document.querySelectorAll('.quiz-option');
    const quizButton = document.querySelector('.quiz-button');
    const quizFeedback = document.getElementById('quiz-feedback');
    
    if (quizOptions.length && quizButton && quizFeedback) {
        // Add event listeners to quiz options
        quizOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Find all options in the same question group
                const questionGroup = this.closest('.quiz-options');
                const optionsInGroup = questionGroup.querySelectorAll('.quiz-option');
                
                // Remove selected class from all options in this group
                optionsInGroup.forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                this.classList.add('selected');
                
                // Reset styling if user changes answer
                this.classList.remove('correct', 'incorrect');
            });
        });
        
        // Add event listener to quiz button
        quizButton.addEventListener('click', function() {
            // Clear any previous feedback
            quizFeedback.innerHTML = '';
            quizFeedback.style.display = 'none';
            
            // Get all quiz questions
            const questions = document.querySelectorAll('.quiz-question');
            let answeredAll = true;
            
            // Process each question
            questions.forEach(question => {
                // Reset question styling
                question.style.color = '';
                question.style.fontWeight = '';
                
                // Find the options container for this question
                const optionsContainer = question.nextElementSibling;
                
                // Check if it's a quiz-options container
                if (!optionsContainer || !optionsContainer.classList.contains('quiz-options')) {
                    return;
                }
                
                // Get all options for this question
                const options = optionsContainer.querySelectorAll('.quiz-option');
                let questionAnswered = false;
                
                // Check each option
                options.forEach(option => {
                    if (option.classList.contains('selected')) {
                        questionAnswered = true;
                    }
                });
                
                // If question not answered, mark it
                if (!questionAnswered) {
                    answeredAll = false;
                    question.style.color = "#ef4444";
                    question.style.fontWeight = "bold";
                }
            });
            
            // If not all answered, show error
            if (!answeredAll) {
                quizFeedback.innerHTML = `
                    <i class='fas fa-exclamation-triangle'></i> 
                    Please answer all questions before submitting!
                `;
                quizFeedback.className = "quiz-feedback quiz-incorrect";
                quizFeedback.style.display = "block";
                
                // Scroll to feedback
                quizFeedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            
            // If all answered, calculate results
            let correctCount = 0;
            
            // Process each question for scoring
            questions.forEach(question => {
                // Find the options container for this question
                const optionsContainer = question.nextElementSibling;
                
                // Get all options for this question
                const options = optionsContainer.querySelectorAll('.quiz-option');
                
                // Check each option
                options.forEach(option => {
                    const isSelected = option.classList.contains('selected');
                    const isCorrect = option.getAttribute('data-correct') === 'true';
                    
                    if (isSelected) {
                        // Mark as correct/incorrect
                        if (isCorrect) {
                            option.classList.add('correct');
                            correctCount++;
                        } else {
                            option.classList.add('incorrect');
                        }
                    }
                    
                    // Also mark correct answer if not selected
                    if (isCorrect && !isSelected) {
                        option.classList.add('correct');
                    }
                });
            });
            
            // Generate feedback
            let feedbackHTML = "";
            const totalQuestions = questions.length;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            
            if (percentage === 100) {
                feedbackHTML = `<i class="fas fa-medal"></i> Perfect! You scored ${percentage}% (${correctCount}/${totalQuestions} correct)`;
                quizFeedback.className = "quiz-feedback quiz-correct";
            } else if (percentage >= 70) {
                feedbackHTML = `<i class="fas fa-check-circle"></i> Well done! You scored ${percentage}% (${correctCount}/${totalQuestions} correct)`;
                quizFeedback.className = "quiz-feedback quiz-correct";
            } else {
                feedbackHTML = `<i class="fas fa-redo"></i> Keep practicing! You scored ${percentage}% (${correctCount}/${totalQuestions} correct)`;
                quizFeedback.className = "quiz-feedback quiz-incorrect";
                
                // Add try again button
                feedbackHTML += `
                    <button id="try-again-button" class="try-again-btn">
                        <i class="fas fa-sync-alt"></i> Try Again
                    </button>
                `;
            }
            
            quizFeedback.innerHTML = feedbackHTML;
            quizFeedback.style.display = "block";
            
            // Add event listener to try again button if it exists
            const tryAgainButton = document.getElementById('try-again-button');
            if (tryAgainButton) {
                tryAgainButton.addEventListener('click', function() {
                    // Clear all selections
                    document.querySelectorAll('.quiz-option').forEach(option => {
                        option.classList.remove('selected', 'correct', 'incorrect');
                    });
                    
                    // Reset question styles
                    document.querySelectorAll('.quiz-question').forEach(question => {
                        question.style.color = '';
                        question.style.fontWeight = '';
                    });
                    
                    // Hide feedback
                    quizFeedback.style.display = 'none';
                });
            }
            
            // Scroll to feedback
            quizFeedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
        });
    }
});
</script>